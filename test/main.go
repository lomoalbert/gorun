package main

import (
	"qiniupkg.com/x/errors.v7"
	"fmt"
)
/*
0x55,0x51,0x20,0x02,0xf0,0xf8,0x3c,0xfd,0x2a,0xff,0x12
0x55,0x52,0xf2,0xff,0x07,0x00,0xfb,0xff,0x2a,0xff,0xc2
0x55,0x53,0xb1,0xb0,0xe0,0xf4,0xe9,0xff,0x2a,0xff,0xee
0x55,0x51,0x1e,0x02,0xed,0xf8,0x39,0xfd,0x28,0xff,0x08
0x55,0x52,0xf6,0xff,0x08,0x00,0xfb,0xff,0x28,0xff,0xc5
0x55,0x53,0xb0,0xb0,0xdf,0xf4,0xe9,0xff,0x28,0xff,0xea
0x55,0x51,0x1e,0x02,0xec,0xf8,0x42,0xfd,0x28,0xff,0x10
0x55,0x52,0xfc,0xff,0x09,0x00,0xfb,0xff,0x28,0xff,0xcc
0x55,0x53,0xb1,0xb0,0xde,0xf4,0xe9,0xff,0x28,0xff,0xea
0x55,0x51,0x1b,0x02,0xeb,0xf8,0x3a,0xfd,0x27,0xff,0x03
0x55,0x52,0x01,0x00,0x07,0x00,0xfc,0xff,0x27,0xff,0xd0
0x55,0x53,0xb1,0xb0,0xde,0xf4,0xe9,0xff,0x27,0xff,0xe9
0x55,0x51,0x1a,0x02,0xee,0xf8,0x35,0xfd,0x27,0xff,0x00
0x55,0x52,0x06,0x00,0x03,0x00,0xff,0xff,0x27,0xff,0xd4
0x55,0x53,0xb2,0xb0,0xde,0xf4,0xe9,0xff,0x27,0xff,0xea
0x55,0x51,0x1e,0x02,0xed,0xf8,0x35,0xfd,0x25,0xff,0x01
0x55,0x52,0x09,0x00,0xff,0xff,0x02,0x00,0x25,0xff,0xd4
0x55,0x53,0xb3,0xb0,0xde,0xf4,0xe9,0xff,0x25,0xff,0xe9
0x55,0x51,0x1e,0x02,0xec,0xf8,0x3a,0xfd,0x25,0xff,0x05
0x55,0x52,0x0b,0x00,0xfc,0xff,0x04,0x00,0x25,0xff,0xd5
0x55,0x53,0xb4,0xb0,0xdf,0xf4,0xe9,0xff,0x25,0xff,0xeb
*/

func getxroll(frame []byte)(float64,error){
	if frame[1]!=0x53{
		return 0,errors.New("not 0x53")
	}
	xroll := float64(int(frame[3])<<8 | int(frame[2]))*180/32768
	return xroll,nil
}

func main(){
	var frame = []byte{0x55,0x53,0xb4,0xb0,0xdf,0xf4,0xe9,0xff,0x25,0xff,0xeb}
	fmt.Println(getxroll(frame))
}